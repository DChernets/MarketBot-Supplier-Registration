#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –±–æ–∫–∞–ª–∞
"""

import sys
import os
sys.path.append('/root/myAI/MarketBot')

from src.main import MarketBot

def test_goblet_extraction():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–ª—è –±–æ–∫–∞–ª–∞"""

    print("=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–ª—è –±–æ–∫–∞–ª–∞ ===")

    bot = MarketBot()

    # –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –±–æ–∫–∞–ª–∞
    goblet_description = """- –¢–∏–ø —Ç–æ–≤–∞—Ä–∞: –ë–æ–∫–∞–ª –¥–ª—è –≤–∏–Ω–∞/—à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: - –ú–∞—Ç–µ—Ä–∏–∞–ª: –°—Ç–µ–∫–ª–æ, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ - –§–æ—Ä–º–∞: –ö–æ–Ω—É—Å–æ–æ–±—Ä–∞–∑–Ω–∞—è —á–∞—à–∞, —Ç–æ–Ω–∫–∞—è –Ω–æ–∂–∫–∞, –∫—Ä—É–≥–ª–∞—è –ø–æ–¥—Å—Ç–∞–≤–∫–∞ - –¶–≤–µ—Ç: –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π - –£–ø–∞–∫–æ–≤–∫–∞: –í–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–µ - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–ª—è –ø–æ–¥–∞—á–∏ –≤–∏–Ω–∞ –∏ —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ"""

    print(f"–ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:\n{goblet_description}\n")

    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
    product_name = bot.extract_product_name(goblet_description)
    print(f"üè∑Ô∏è –ò–∑–≤–ª–µ—á–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: '{product_name}'")

    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
    short_desc = bot.extract_short_description(goblet_description, 80)
    print(f"üìù –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: '{short_desc}'")

    print(f"\n‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:")
    print(f"üè∑Ô∏è {product_name}")
    print(f"üìù {short_desc}")

if __name__ == "__main__":
    test_goblet_extraction()