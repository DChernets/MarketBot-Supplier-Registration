#!/usr/bin/env python3
"""
–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–æ–≤
"""

import sys
import os
sys.path.append('/root/myAI/MarketBot')

import os
from telegram import Bot, InlineKeyboardButton, InlineKeyboardMarkup

BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN', '8410046050:AAEvzOzPeQ-uj0DmWngXCQciaD3AXytFZgs')

async def send_improved_display_test():
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"""

    print("=== –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–∞ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º ===")

    try:
        bot = Bot(token=BOT_TOKEN)

        # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É
        keyboard = [
            [InlineKeyboardButton("üì¶ –£–õ–£–ß–®–ï–ù–ù–´–ô –ö–ê–¢–ê–õ–û–ì –¢–û–í–ê–†–û–í ‚ú®", callback_data="my_products")]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)

        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π
        test_user_id = 233168669
        print(f"–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {test_user_id}...")

        message = await bot.send_message(
            chat_id=test_user_id,
            text="üÜï *–£–õ–£–ß–®–ï–ù–ù–û–ï –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –¢–û–í–ê–†–û–í*\n\n"
                 "–¢–µ–ø–µ—Ä—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–∞—Ö –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ!\n\n"
                 "üìã –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:\n"
                 "‚Ä¢ üè∑Ô∏è *–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ* (–®–∞–ø–æ—á–∫–∞, –¢–µ—Ä–º–æ–∫—Ä—É–∂–∫–∞)\n"
                 "‚Ä¢ üìù *–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ* (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)\n"
                 "‚Ä¢ üÜî ID —Ç–æ–≤–∞—Ä–∞\n"
                 "‚Ä¢ üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ\n"
                 "‚Ä¢ üñºÔ∏è –§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞\n\n"
                 "–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–æ–≥–æ \"–¢–æ–≤–∞—Ä 1\"!\n"
                 "–ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –∏–º–µ–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.\n\n"
                 "–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∞:",
            reply_markup=reply_markup
        )
        print(f"‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {message.message_id}")

    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    import asyncio
    asyncio.run(send_improved_display_test())