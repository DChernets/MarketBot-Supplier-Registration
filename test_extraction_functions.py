#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è
"""

import sys
import os
sys.path.append('/root/myAI/MarketBot')

from src.main import MarketBot

def test_extraction():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è"""

    print("=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ===")

    bot = MarketBot()

    # –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Ä–º–æ–∫—Ä—É–∂–∫–∏
    test_description = """- –¢–∏–ø —Ç–æ–≤–∞—Ä–∞: –¢–µ—Ä–º–æ–∫—Ä—É–∂–∫–∞/—Ç–µ—Ä–º–æ—Å—Ç–∞–∫–∞–Ω –¥–ª—è –Ω–∞–ø–∏—Ç–∫–æ–≤ —Å —Ç—Ä—É–±–æ—á–∫–æ–π - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: - –†–∞–∑–º–µ—Ä: –ë–æ–ª—å—à–æ–π, –≤–º–µ—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–π - –¶–≤–µ—Ç: –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π (–ø–∞—Å—Ç–µ–ª—å–Ω—ã–π) –∫–æ—Ä–ø—É—Å, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å–µ—Ä–∞—è –∫—Ä—ã—à–∫–∞ - –ú–∞—Ç–µ—Ä–∏–∞–ª: –í–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ—Ä–∂–∞–≤–µ—é—â–∞—è —Å—Ç–∞–ª—å —Å –≤–Ω–µ—à–Ω–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º (–≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ä–æ—à–∫–æ–≤–∞—è –∫—Ä–∞—Å–∫–∞) –¥–ª—è –∫–æ—Ä–ø—É—Å–∞, –ø–ª–∞—Å—Ç–∏–∫ –¥–ª—è –∫—Ä—ã—à–∫–∏ –∏ —Ç—Ä—É–±–æ—á–∫–∏. - –£–ø–∞–∫–æ–≤–∫–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –û–±—ã—á–Ω–æ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –≤ –∫–∞—Ä—Ç–æ–Ω–Ω–æ–π –∫–æ—Ä–æ–±–∫–µ –∏–ª–∏ –ø–∞–∫–µ—Ç–µ. - –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞–ø–∏—Ç–∫–æ–≤ (–≥–æ—Ä—è—á–∏—Ö –∏–ª–∏ —Ö–æ–ª–æ–¥–Ω—ã—Ö) –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–º–∞, –≤ –æ—Ñ–∏—Å–µ, –≤ –¥–æ—Ä–æ–≥–µ."""

    print(f"–ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:\n{test_description[:200]}...\n")

    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
    product_name = bot.extract_product_name(test_description)
    print(f"üè∑Ô∏è –ò–∑–≤–ª–µ—á–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: '{product_name}'")

    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
    short_desc = bot.extract_short_description(test_description, 80)
    print(f"üìù –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: '{short_desc}'")

    print(f"\n‚úÖ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —Ç–æ–≤–∞—Ä –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫:")
    print(f"üè∑Ô∏è {product_name}")
    print(f"üìù {short_desc}")

if __name__ == "__main__":
    test_extraction()